<!DOCTYPE html>
<html>
  <head>
    <title>TestwithPG</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
  </head>

  <body>
    <div class="container">

      <% flash.each do |name, msg| %>
        <%= content_tag :div, msg, class: name %>
        <p>
      <% end %>

      <p class="notice"><%#= notice %></p>
      <p class="alert"><%#= alert %></p>
      <% if user_signed_in? %>
       Are you admin? <%= current_user.has_role? :admin %>
       <%= current_user.roles.pluck(:name) %>
        <%= current_user.id %>
        <%= current_user.email %>
        <%#= user_session %>
        <br>
        <%#=current_page?%>
        <%= link_to "Invite User", new_user_invitation_path, class: "#{'font-weight-bold' if current_page?(new_user_invitation_path)}" %> |
        <%= link_to "Home", root_path, class: "#{'font-weight-bold' if current_page?(root_path)}" %> |
        <%= link_to "Posts", posts_path, class: "#{'font-weight-bold' if controller_name == "posts"}" %> |
        <%= link_to "Users", users_path, class: "#{'font-weight-bold' if controller_name == "users"}" %> |
        <%= link_to "Sign out", destroy_user_session_path, :method => :delete %> |
        <%= link_to "Edit", edit_user_registration_path %> |
      <% else %>
        <%= link_to "Sign in", new_user_session_path %>
        <%= link_to "Sign up", new_user_registration_path %>
      <% end %>   
      <hr>
      <%= yield %>
      </div>
  </body>
</html>
